# Observing Sensor Data generated by TELUS IoT Shield

Except from providing network connectivity, TELUS IoT Shield also has built-in humidity, temperature, light sensors, 3-axis accelerometer and control relay. This tutorial will show users how to observe all built-in sensors and control relay.

# Let's Get Started

## Configure Raspberry Pi 

Enable I2C and Serial interface as follows:

1. In the command-line, type `sudo raspi-config`. It should display the window below:

    ![alt_text](/images/raspi-config1.PNG)

2. Select `5 Interfacing Option`, then select `P6 Serial` in the next window.

    ![alt_text](/images/raspi-config2.PNG)

    ![alt_text](/images/raspi-config3.PNG)

3. For the first option "Would you like a login shell to be accessible over serial?", please select "No". For the second option "Would you like the serial port hardware to be enabled?", please select "Yes" --> "OK".

    ![alt_text](/images/raspi-config4.PNG)
    
    ![alt_text](/images/rapsi-config5.PNG)

4. After "OK" is selected, the termial will take you back to raspi-config window. Select `5 Interfacing Option`again, then select `P5 I2C` in the next window.

    ![alt_text](/images/raspi-config6.PNG)

5. Select "Yes" to enable ARM I2C interface.

    ![alt_text](/images/raspi-config7.PNG)

6. Select "OK" --> "Finish", then reboot the Raspberry Pi.

## Running sensor_test.py

1. Clone [Sixfab_RPi_CellularIoT_App_Shield](https://github.com/sixfab/Sixfab_RPi_CellularIoT_App_Shield) Github repository.

    ![alt_text](/images/clone.PNG)

2. After the repository has been cloned, cd into the cloned directory using the command `cd Sixfab_RPi_CellularIoT_App_Shield`.

    ![alt_text](/images/cd.PNG)

3. Install the library using the command `sudo python3 setup.py install`. Alternatively, you can install the library using the command `sudo pip3 install sixfab-cellulariot`

    `sudo python3 setup.py install`:

    ![alt_text](/images/install.PNG)

    `sudo pip3 install sixfab-cellulariot`:

    ![alt_text](/images/install2.PNG)

4. Get into sample directory by `cd sample` and compile sensor_test.py using `python3 sensor_test.py`

    ![alt_text](/images/cd2.PNG)

    ![alt_text](/images/compile.PNG)

Now, you are able to get all the built-in sensor data and control relay on the Shield.

## Code examination

```python

#imports the cellulariot class from cellulariot Library
from cellulariot import cellulariot
#imports time library
import time

#declares node as an object
node = cellulariot.CellularIoTApp() 
node.setupGPIO()

#disables the module
node.disable()
#idle for 1 second
time.sleep(1)
#Re-enables the module
node.enable()

time.sleep(0.5)
print("Acceleration: "+str(node.readAccel())) #readAccel() returns the accelerometer value
time.sleep(0.5)
print("Humidity: " + str(node.readHum())) #readHum() returns the Humidity
time.sleep(0.5)
print("Temperature: " + str(node.readTemp())) #readTemp() returns temperature
time.sleep(0.5)
print("Lux: " + str(node.readLux())) # readLux() returns lux in percentage
print("ADC1: " + str(node.readAdc(0)))
time.sleep(0.5)
print("ADC2: " + str(node.readAdc(1)))
time.sleep(0.5)
print("ADC3: " + str(node.readAdc(2)))
time.sleep(0.5)
print("ADC4: " + str(node.readAdc(3))) #returns ADC values
time.sleep(0.5)
node.turnOnRelay() #turn on relay
time.sleep(2)
node.turnOffRelay() #turn off relay
time.sleep(0.5)
node.turnOnUserLED() #switch ON the USER led
time.sleep(2)
node.turnOffUserLED() #switch OFF the USER led
```
